{"name":"SeeID","permission":{"default":0,"bE4FsemgBF2CPXB2":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false}},"scope":"global","command":"//Display Name & IDs\r\nfor(let token of canvas.tokens.controlled)\r\n{\r\n    ChatMessage.create({\r\n        content : token.name + \" \" + token.id\r\n    });\r\n}\r\n\r\nfor(let wall of canvas.walls.controlled)\r\n{\r\n    ChatMessage.create({\r\n        content : wall.name + \" \" + wall.id\r\n    })\r\n}\r\n/*\r\nfor(let light of canvas.lighting.activate)\r\n{\r\n    ChatMessage.create({\r\n        content : light.name + \" \" + light.id\r\n    })\r\n}\r\nfor (let note of canvas.notes.placeables)\r\n{\r\n    ChatMessage.create({\r\n        content :  note.name + \" \" + note.id\r\n     });\r\n}\r\n*/\r\nfor (let draw of canvas.drawings.controlled)\r\n{\r\n   ChatMessage.create({\r\n      content :  draw.name + \" \" + draw.id\r\n   });\r\n}\r\n\r\nfor (let tile of canvas.tiles.controlled)\r\n{\r\n    ChatMessage.create({\r\n        content :  tile.name + \" \" + tile.id\r\n     });\r\n}","author":"bE4FsemgBF2CPXB2","img":"icons/svg/dice-target.svg","actorIds":[],"_id":"5g5M5rzPz0K6E42w"}
{"name":"Descanço Longo (Tempo)","permission":{"default":0,"XH24HWwqaZhSywRV":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false}},"scope":"global","command":"game.Gametime.advanceTime({hours: -8}) ","author":"XH24HWwqaZhSywRV","img":"icons/svg/clockwork.svg","actorIds":[],"_id":"CYxiVYFI3dRnBjoF"}
{"name":"EncouterScene","permission":{"default":0,"bE4FsemgBF2CPXB2":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":true}},"scope":"global","command":"let encounter = new Innocenti.Encounters();\r\nawait encounter.RegistryEncounter(args[0],args[1]);\r\n//await encounter.RemoveAllRegister();\r\n//await encounter.RollTable(args[1]);\r\nconsole.log(encounter);","author":"bE4FsemgBF2CPXB2","img":"icons/svg/d20-highlight.svg","actorIds":[],"_id":"ObKP6JIKaSmfmjeu"}
{"name":"Passive","permission":{"default":0,"K8wnBm5FIAWUxw3P":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false}},"scope":"global","command":"//args[0] = dificult\r\n//args[1] = sucess\r\n//args[2] = fail\r\n//args[3] = flags\r\n//console.log(token.id,game.user.id,args);\r\n//console.log(args);\r\nlet checks = new Innocenti.PassiveCheck(game.user.id,token.id);\r\nchecks.Check(...args);","author":"K8wnBm5FIAWUxw3P","img":"icons/svg/dice-target.svg","actorIds":[],"_id":"RLJ0bKC867OkkX01"}
{"name":"Remove Flags","permission":{"default":0,"bE4FsemgBF2CPXB2":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false}},"scope":"global","command":"for (let t of canvas.tokens.placeables) {\r\nif(t.getFlag(`world`, `worldTrigger`))\r\n        await t.unsetFlag(`world`, `worldTrigger`);\r\n}\r\nawait console.log(\"Fim dos tokens\");\r\nawait console.log(canvas.tokens.controlled[0].data.flags);\r\nfor (let t of game.users) {\r\nif(t.getFlag(`world`, `worldTrigger`))\r\n        await t.unsetFlag(`world`, `worldTrigger`);\r\n}\r\nawait console.log(\"Fim dos usuários\");\r\nawait console.log(game.user.data.flags);","author":"bE4FsemgBF2CPXB2","img":"icons/svg/dice-target.svg","actorIds":[],"_id":"YobficmbJwFClqQP"}
{"name":"LongRest","permission":{"default":0,"hZjcXAiJd9XIdRhW":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":true}},"scope":"global","command":"let status = Innocenti.LongRest(args[1]);\r\n\r\n//ui.notifications.info(args[1]);","author":"hZjcXAiJd9XIdRhW","img":"icons/svg/sleep.svg","actorIds":[],"_id":"eTYXenSDG5xDRY4G"}
{"name":"OpenDoor","permission":{"default":0,"K8wnBm5FIAWUxw3P":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false}},"scope":"global","command":"//args[0] = dificult\r\n//args[1] = sucess\r\n//args[2] = fail\r\n//args[3] = key\r\n//args[4] = flags\r\n//console.log(token.id,game.user.id,args);\r\nconsole.log(args);\r\nlet checks = new Innocenti.OpenDoor(game.user.id,token.id);\r\nchecks.Check(...args);","author":"K8wnBm5FIAWUxw3P","img":"icons/svg/dice-target.svg","actorIds":[],"_id":"gQ6KL1KkeAVEB9lS"}
{"name":"PoolFlags","permission":{"default":0,"K8wnBm5FIAWUxw3P":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":true}},"scope":"global","command":"//console.log(token.id);\r\nlet pool = new Innocenti.PoolFlags(token.id, ...args);\r\npool.AddPool();\r\npool.RemovePool();","author":"K8wnBm5FIAWUxw3P","img":"icons/svg/dice-target.svg","actorIds":[],"_id":"gvKOq32sjx2MonGr"}
{"name":"Checks","permission":{"default":0,"K8wnBm5FIAWUxw3P":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false}},"scope":"global","command":"//args[0] = skill\r\n//args[1] = dificult\r\n//args[2] = sucess\r\n//args[3] = fail\r\n//args[4] = flags\r\n//console.log(token.id,game.user.id,args);\r\n//console.log(args);\r\nlet checks = new Innocenti.Checks(game.user.id,token.id);\r\nchecks.Check(...args);","author":"K8wnBm5FIAWUxw3P","img":"icons/svg/dice-target.svg","actorIds":[],"_id":"iBmIp6n2aeq4Xm1G"}
{"name":"remove flag","permission":{"default":0,"K8wnBm5FIAWUxw3P":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false}},"scope":"global","command":"let flag = `SunlessCitadel_Check_03`;\r\n//for (let t of canvas.tokens.placeables) {\r\n        //t.unsetFlag(`world`, `worldTrigger.${flag}`);\r\n//}\r\nfor (let t of canvas.tokens.placeables) {\r\nif(t.getFlag(`world`, `worldTrigger`))\r\n        await t.unsetFlag(`world`, `worldTrigger`);\r\n}\r\nawait console.log(\"Fim dos tokens\");\r\nfor (let t of game.users) {\r\nif(t.getFlag(`world`, `worldTrigger`))\r\n        await t.unsetFlag(`world`, `worldTrigger`);\r\n}\r\nawait console.log(\"Fim dos usuários\");\r\n//game.scenes.active.unsetFlag(`world`,`ResetFlag.-=jIKOLJdt6LclkTR0`);\r\n//game.scenes.active.unsetFlag(`world`,`ResetFlag.-=8gpe9ntKtOmPZViB`);\r\n//console.log(canvas.tokens.get('jIKOLJdt6LclkTR0').data.flags)\r\n//console.log(game.scenes.active.data.flags)","author":"K8wnBm5FIAWUxw3P","img":"icons/svg/dice-target.svg","actorIds":[],"_id":"l74Ob0UY2MBa1TeR"}
{"name":"Actions","permission":{"default":0,"K8wnBm5FIAWUxw3P":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false}},"scope":"global","command":"game.macros.entities.find(i => i.name === 'GMActions').execute(game.user.id,token.id,...args);","author":"K8wnBm5FIAWUxw3P","img":"icons/svg/dice-target.svg","actorIds":[],"_id":"okfWlMTSqNdGD0lU"}
{"name":"Create Tables By Rarity","permission":{"default":0,"XH24HWwqaZhSywRV":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false}},"scope":"global","command":"game.betterTables.createTableFromCompendium(\"Full Table Fishs\",\r\n    //\"dnd5e.items\",\r\n    \"mod-my-world.item-foods\",\r\n    { weightPredicate: predicate }\r\n);\r\n\r\nfunction predicate(entity) {\r\n    if(entity.type != \"loot\") return 0;\r\n    //if(entity.data.data.consumableType != \"food\") return 0;\r\n    if(entity.data.data.source != \"Fish\") return 0;\r\n    switch (entity.data.data.rarity) {\r\n        case \"Common\":\r\n            return 16;\r\n        case \"Uncommon\":\r\n            return 8;\r\n        case \"Rare\":\r\n            return 4;\r\n        case \"Very rare\":\r\n            return 2;\r\n        case \"Legendary\":\r\n            return 1;\r\n        default:\r\n            return 0;\r\n    }\r\n}","author":"XH24HWwqaZhSywRV","img":"icons/svg/dice-target.svg","actorIds":[],"_id":"uqhL0gLIVUzjDden"}
{"name":"PoolCheck","permission":{"default":0,"K8wnBm5FIAWUxw3P":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false}},"scope":"global","command":"//console.log(args);\r\nlet pool = new Innocenti.PoolCheck(game.user.id,token.id);\r\npool.Check(...args);","author":"K8wnBm5FIAWUxw3P","img":"icons/svg/dice-target.svg","actorIds":[],"_id":"vTv3AzNRBy5nCXfp"}
{"name":"Visitar","permission":{"default":0,"bE4FsemgBF2CPXB2":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false}},"scope":"global","command":"Innocenti.Visitar();","author":"bE4FsemgBF2CPXB2","img":"icons/svg/hanging-sign.svg","actorIds":[],"_id":"yjdinzPWzMK0ozBs"}
